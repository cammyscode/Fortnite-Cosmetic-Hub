<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Menu do Usuário</title>

    <link rel="stylesheet" href="./styles/header.css" />
    <link rel="stylesheet" href="./styles/stylesBundle.css" />
    <link rel="stylesheet" href="./styles/styles.css" />
    <link rel="stylesheet" href="./styles/pri-styles.css" />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=brightness_alert,logout,camera,save"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
      integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div id="container-header">
      <header>
        <nav>
          <img
            id="logo"
            src="../images/fortnite-logo-.png"
            alt="Fortnite Logo"
          />

          <div class="dropdown">
            <button class="store-btn" id="btn-store">
              Loja
              <span class="arrow"><i class="fa-solid fa-caret-down"></i></span>
            </button>

            <div class="dropdown-menu" id="menu-popup">
              <ul class="menu-list">
                <li id="all-cosmetics">Todos os Itens</li>
                <li id="pack">Pacotes</li>
              </ul>
            </div>
          </div>
          <button id="btn-profile">Meu Perfil</button>
          <button id="btn-public">Usuários</button>
        </nav>
      </header>
    </div>

    <div id="general">
      <div class="user-panel">
        <div class="user-box">
          <div class="left-panel">
            <button id="logout">
              <span><i class="fa-solid fa-arrow-right-from-bracket"></i></span>
            </button>
            <div class="photo-container">
              <img
                id="profilePhoto"
                src="https://i.imgur.com/6VBx3io.png"
                class="user-photo"
              />
              <button id="btn-change-photo">
                <span><i class="fa-solid fa-camera"></i></span>
              </button>
            </div>

            <div class="photo-controls">
              <input type="file" id="photoInput" accept="image/*" />
              <button id="btn-save-photo" disabled>Salvar</button>
            </div>

            <div class="username"></div>
            <div class="userEmail"></div>

            <div class="vbucks-box">
              <img src="./images/v-buck.png" alt="Vbucks" />
              <div class="vbucks"></div>
            </div>
          </div>

          <div class="right-panel">
            <h2>Inventário do Jogador</h2>

            <ul id="inventory-list"></ul>
          </div>
        </div>
      </div>
    </div>

    <div class="hidden-store">
      <div id="local-container" class="container">
        <h1>LOJA DE ITENS</h1>
        <div class="container-cosmetics">
          <main>
            <section id="view-home" class="view active panel">
              <div class="controls">
                <div class="selection">
                  <div class="input-search">
                    <input
                      id="search-name"
                      type="text"
                      placeholder="Buscar por nome..."
                    />
                    <button type="submit" class="btn-search" tabindex="-1">
                      <span
                        class="icon"
                        aria-hidden="true"
                        style="width: 19px; height: 20px; line-height: 20px"
                        ><i id="search" class="fa-solid fa-magnifying-glass"></i
                      ></span>
                    </button>
                    <input id="search-date" type="date" />
                  </div>
                  <div class="select">
                    <label class="filter"
                      ><input id="filter-new" type="checkbox" /> Apenas
                      novos</label
                    >
                    <label class="filter"
                      ><input id="filter-for-sale" type="checkbox" /> Apenas à
                      venda</label
                    >
                    <label class="filter"
                      ><input id="filter-on-sale" type="checkbox" /> Apenas em
                      promoção</label
                    >
                  </div>
                </div>
                <div class="other-filters">
                  <select id="filter-type">
                    <option value="">Todos os tipos</option>
                  </select>
                  <select id="filter-rarity">
                    <option value="">Qualquer raridade</option>
                  </select>

                  <select id="per-page" style="margin-left: auto">
                    <option value="5">5 / página</option>
                    <option value="15" selected>15 / página</option>
                    <option value="50">50 / página</option>
                  </select>
                </div>
              </div>
              <div class="pagination">
                <button id="prev-page" class="btn ghost small">
                  <i class="fa-solid fa-caret-left"></i>
                </button>
                <div id="page-info" class="muted">Página 1</div>
                <button id="next-page" class="btn ghost small">
                  <i class="fa-solid fa-caret-right"></i>
                </button>
              </div>
              <div class="cosmetics-gallery" id="gallery"></div>
            </section>
          </main>
        </div>
      </div>
    </div>
    <div class="hidden-bundles">
      <div id="container-gallery">
        <h1>Bundles em Destaque</h1>
        <section id="gallery-bundles" class="gallery"></section>
      </div>
    </div>

    <div class="hidden-public">
      <div id="public-container" class="container">
        <h1>Usuários Cadastrados</h1>

        <section id="users-list" class="gallery">
          <p style="color: lightgray">Carregando dados dos usuários...</p>
        </section>
      </div>
    </div>

    <div class="public-modal-inventory" id="public-inventory-modal"></div>

    <footer>
      Esta é uma simulação para o desafio de estágio da empresa ESO.
      Desenvolvido por Camille Almeida Silva.
    </footer>
    <script>
      profilePhotoElement = document.getElementById("profilePhoto");

      window.USER_DATA = {
        name: "<%= name %>",
        email: "<%= email %>",
        saldo_vbucks: "<%= saldo_vbucks %>",
        user_pic: "<%= user_pic %>",
      };

      if (USER_DATA.user_pic && USER_DATA.user_pic !== "null") {
        profilePhotoElement.src = USER_DATA.user_pic;
      }

      document.addEventListener("DOMContentLoaded", () => {
        const { name, email, saldo_vbucks } = window.USER_DATA;

        document.querySelector(".username").textContent = name;
        document.querySelector(".userEmail").textContent = email;
        document.querySelector(".vbucks").textContent = saldo_vbucks;
      });
    </script>

    <script src="/js/main.js"></script>
    <script src="/js/bundles.js"></script>
    <script src="/js/navigation.js"></script>
  </body>
</html>
